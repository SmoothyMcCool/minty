<div class="container-fluid">
	<h2>New Workflow</h2>

	<form role="form" (submit)="createWorkflow()">

		<div class="d-flex justify-content-end mb-2">
			<button type="submit" id="submitButton" class="btn btn-primary me-2">Create!</button>
			<button type="button" id="cancelButton" class="btn btn-danger" (click)="cancel()">Cancel</button>
		</div>

		<minty-workflow-editor name="workflowEditor" [taskSpecifications]="taskSpecifications"
			[outputTaskSpecifications]="outputTaskSpecifications" [defaults]="defaults" [(ngModel)]="workflow"></minty-workflow-editor>
	</form>
</div>
<button class="btn btn-link mt-4" (click)="showTemplateUploader = true" *ngIf="!showTemplateUploader; else uploadTemplate">Add New Output Template</button>
<ng-template #uploadTemplate>
	<div class="mt-4 p-2">
		<h3>Upload Output Templates</h3>
		<div class="form-group mb-2">
			<label for="templateName">Template Name</label>
			<input type="text" class="form-control" id="templateName" name="templateName" [(ngModel)]="resultTemplate.name">
		</div>
		<div class="form-group mb-2">
			<label for="outputFile" class="form-label">File</label>
			<input class="form-control" type="file" id="outputFile" (change)="fileChanged($event)">
		</div>
		<button class="btn btn-primary" (click)="uploadFile()">Upload</button>
	</div>
</ng-template>